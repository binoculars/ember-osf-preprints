/* SUBMIT page */

.preprint-submit-header {
    padding-top: 140px;
    background: url("img/submit_bg.jpg") no-repeat top center;
    background-size: cover;
    border-bottom: 1px solid #eee;
    height: 250px;
}
.preprint-submit-body {
    background-color: #f8f8f8;
    border-bottom: 1px solid #dddddd;
    padding-bottom: 50px;
}

.preprint-form-block {
    margin-top: 20px;
    background: #fff;
    padding:10px 20px 20px 20px;
    box-shadow: 0 0 3px #ddd;
    label {
        width: 100%;
    }
    .preprint-header-preview {
        color: #444;
        font-size: 15px;
        i {
            color: #888;
            display: block;
        }
        .abstract {
            white-space: pre-line;
        }
    }
}
#preprint-form-upload {
    .btn-big {
        height: 80px;
        font-size: 16px;
        background-color: #eef2f3;
        white-space: normal;
    }
    .dropzone {
        background-color: #f8f8f8;
        border: 2px dashed #ddd;
        margin-bottom: 20px;
        margin-top: 10px;
        text-align: center;
    }
    .dz-progress {
        z-index : 10;
    }

    .dropzone.dz-started .dz-message {
        opacity: 1; // Override default to keep from disappearing
        margin-top: 0;
        margin-bottom: 0;
        display: block;
    }

    .dropzone.dz-drag-hover {
        border-color: #95cd7e;
    }

    .radio-option {
        background: #f5f5f5;
        border-radius: 2px;
    }
}
.file-browser-header {
    display: none;
}
.file-browser {
    border: 1px solid #ddd;
    margin: 10px;
}
.ball-pulse>div {
    background-color: #b9cdd6;
}

// Narrow views for submit
@media (max-width: 768px) {
    #preprint-form-upload .btn-big {
        min-height: 100px;
        font-size: 14px;
    }
    .toggle-button label.choose-large i {
        font-size: 35px;
    }
    .panel-body {
        padding: 0;
    }
    .table > tbody > tr > td {
        padding: 2px;
    }
}


.preprint-form-section {
    header {
        @extend a;
        cursor: pointer;
        font: {
            size: 16px;
            font-weight: bold;
        }
        display: block;
        margin: 1rem 0;
        &:hover, &:focus {
            text-decoration: none;
        }
        &:after {
            content: "";
            display: block;
            width: 100%;
            clear: both;
        }
        &.cp-is-open {
            cursor: default;
            color: #333;
        }
        &.valid {
            .preprint-section-status .fa {
                color: #009688;
            }
        }
        &.invalid {
            .preprint-section-status .fa {
                color: #F44336;
            }
        }
        &.not-validated {
            .preprint-section-status .fa {
                color: gray;
            }
        }
        .fa {
            font-size: 20px;
        }
        .preprint-section-status .fa {
            transition: color 0.1s linear;
        }
    }
    .cp-Panel-body {
        opacity: 0;
        overflow: hidden;
        transition: {
            property: height, opacity;
            duration: 0.2s;
            timing-function: linear;
        }
        &.cp-is-open {
            opacity: 1;
        }
    }
    // THESE STYLES ARE INTERFERING WITH MY STYLES.
    // .row {
    //     margin: 0;
    // }
    // label, input, textarea {
    //     display: block;
    // }
    label > input, label > textarea {
        font-weight: normal;
    }
    textarea {
        resize: none;
    }
}




#preprint-form-basics {
    span.required:after {
        content: "(required)";
        color: lighten(red, 30%);
        font-weight: normal;
        float: right;
    }
}

#preprint-form-subjects {
    .subject {
        background-color: $brand-primary;
        display: inline-block;
        color: white;
        overflow: hidden;
        padding: 0 2rem;
        margin-right: 2rem;
        margin-bottom: 1rem;
        border-radius: 2px;
        transition: background-color 0.1s linear;
        &:hover {
            background-color: lighten($brand-primary, 10%);
            & > b:after {
                border-left-color: lighten($brand-primary, 10%);
            }
        }
        & > b {
            display: inline-block;
            padding: 5px 12px ;
            position: relative;
            border-radius: 4px;
            &%pseudo {
                content: '';
                display: block;
                position: absolute;
                width: 0;
                height: 0;
                left: 100%;
                top: 50%;
                margin-top: -5rem;
                border: {
                    style: solid;
                    width: 5rem 0 5rem 3rem;
                    color: transparent transparent transparent $brand-primary;
                }
            }
            &:before {
                @extend %pseudo;
                margin-left: 1px;
                border-left-color: white;
                z-index: 1;
            }
            &:after {
                @extend %pseudo;
                transition: border-color 0.1s linear;
                z-index: 2;
            }
            &:first-child {
                padding-left: 0;
            }
            &:last-of-type {
                padding-right: 2rem;
                &:before, &:after {
                    display: none;
                }
            }
            & + b {
                margin-left: 2rem;
            }
        }
        & > .fa {
            color: white;
            cursor: pointer;
            transition: color 0.1s linear;
            &:hover {
                color: lighten(red, 40%);
            }
            &:active {
                color: lighten(red, 20%);
            }
        }
    }
    ul {
        height: 30rem;
        list-style: none;
        padding: 0;
        border: 1px lightgray solid;
        overflow: hidden;
        input {
            border-style: none none solid none;
            box-shadow: none;
        }
        li {
            padding: 0.5rem 1.5rem;
            cursor: pointer;
            border-radius: 4px;
            margin: 0.5rem;
            overflow: hidden;
            white-space: nowrap;
            text-overflow: ellipsis;
            position: relative;
            transition: {
                property: background-color, color, font-weight;
                duration: 0.1s;
                timing-function: linear;
            }
            &:hover {
                background-color: $theme-color-light;
                color: #ffffff;
            }
            &:active, &.selected {
                background-color: #337AB7;
                color: white;
                font-weight: bold;
                white-space: normal;
            }
            & + li {
                margin-top: 0;
            }
        }
    }
}

.preprint-form-section.upload-section-block {
    margin-top: 5px;
    padding:5px 20px 5px 20px;
    border-top: 1px solid #eee;

    header {
        font-size: 15px;
        line-height: 75%;
    }

    .preprint-header-preview {
        color: #444;
        font-size: 14px;
        i {
            color: #888;
            display: block;
        }
        .abstract {
            white-space: pre-line;
        }
    }
}
